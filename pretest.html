<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taylor Series Pre-Test</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0c2461, #1e3799, #4a69bd);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            border: 3px solid #0c2461;
        }
        
        h1 {
            color: #0c2461;
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #0c2461, #4a69bd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: #4a6fa5;
            font-size: 1.2rem;
            margin-bottom: 20px;
        }
        
        .instructions {
            background-color: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 6px solid #4a6fa5;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .instructions:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #4a69bd, #0c2461);
        }
        
        .instructions h3 {
            color: #0c2461;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .instructions ul {
            margin-left: 20px;
        }
        
        .instructions li {
            margin-bottom: 10px;
            padding-left: 10px;
            position: relative;
        }
        
        .instructions li:before {
            content: 'â€¢';
            color: #4a69bd;
            font-weight: bold;
            position: absolute;
            left: -10px;
        }
        
        .question-container {
            background-color: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-left: 6px solid #4a69bd;
            position: relative;
            overflow: hidden;
        }
        
        .question-container:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, #4a69bd, #0c2461);
        }
        
        .question-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .question-number {
            background: linear-gradient(135deg, #0c2461, #4a69bd);
            color: white;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.3rem;
            box-shadow: 0 4px 10px rgba(12, 36, 97, 0.3);
        }
        
        .question-text {
            flex-grow: 1;
            margin-left: 20px;
            font-size: 1.3rem;
            font-weight: 600;
            color: #0c2461;
        }
        
        .options-container {
            margin-top: 20px;
        }
        
        .option {
            padding: 18px;
            margin-bottom: 12px;
            border-radius: 10px;
            border: 2px solid #eaeaea;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            background: white;
        }
        
        .option:hover {
            background-color: #f5f7fa;
            border-color: #4a6fa5;
            transform: translateX(5px);
        }
        
        .option.selected {
            background-color: #e3f2fd;
            border-color: #2196f3;
        }
        
        .option.correct {
            background-color: #e8f5e9;
            border-color: #4caf50;
        }
        
        .option.incorrect {
            background-color: #ffebee;
            border-color: #f44336;
        }
        
        .option-letter {
            display: inline-block;
            width: 35px;
            height: 35px;
            background-color: #eaeaea;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            margin-right: 15px;
            font-weight: bold;
            color: #333;
        }
        
        .option.selected .option-letter {
            background: linear-gradient(135deg, #2196f3, #1976d2);
            color: white;
        }
        
        .option.correct .option-letter {
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
        }
        
        .option.incorrect .option-letter {
            background: linear-gradient(135deg, #f44336, #c62828);
            color: white;
        }
        
        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            display: none;
        }
        
        .feedback.correct {
            background: linear-gradient(120deg, #e8f5e9 0%, #c8e6c9 100%);
            border-left: 6px solid #4caf50;
            color: #2e7d32;
        }
        
        .feedback.incorrect {
            background: linear-gradient(120deg, #ffebee 0%, #ffcdd2 100%);
            border-left: 6px solid #f44336;
            color: #c62828;
        }
        
        .feedback h4 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        .navigation-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 35px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #0c2461, #4a69bd);
            color: white;
            box-shadow: 0 5px 15px rgba(12, 36, 97, 0.3);
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #4a69bd, #0c2461);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(12, 36, 97, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #495057);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #495057, #343a40);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        
        .btn-secondary:disabled {
            background: linear-gradient(135deg, #adb5bd, #6c757d);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .results-container {
            background-color: white;
            border-radius: 15px;
            padding: 40px;
            margin-top: 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            display: none;
            text-align: center;
            border: 3px solid #0c2461;
        }
        
        .results-header {
            margin-bottom: 25px;
            color: #0c2461;
            font-size: 2rem;
            background: linear-gradient(90deg, #0c2461, #4a69bd);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .score-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            margin: 0 auto 40px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.8rem;
            color: white;
            background: linear-gradient(135deg, #0c2461, #4a69bd);
            box-shadow: 0 10px 25px rgba(12, 36, 97, 0.3);
        }
        
        .score-value {
            font-size: 3.5rem;
            font-weight: 700;
        }
        
        .score-text {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        
        .performance {
            margin: 30px 0;
            padding: 25px;
            background: linear-gradient(120deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            border-left: 6px solid #4a69bd;
        }
        
        .performance h3 {
            margin-bottom: 20px;
            color: #0c2461;
            font-size: 1.5rem;
        }
        
        .performance p {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .retake-btn {
            margin-top: 25px;
            background: linear-gradient(135deg, #4caf50, #2e7d32);
            color: white;
            padding: 16px 45px;
            font-size: 1.2rem;
        }
        
        .retake-btn:hover {
            background: linear-gradient(135deg, #2e7d32, #1b5e20);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(46, 125, 50, 0.3);
        }
        
        .formula {
            font-size: 1.2rem;
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(120deg, #f0f5ff 0%, #e6eeff 100%);
            border-radius: 10px;
            overflow-x: auto;
            border: 1px solid #d0d9ff;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .controls {
                flex-direction: column;
                gap: 20px;
            }
            
            .btn {
                width: 100%;
                padding: 16px 20px;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .option {
                padding: 15px;
            }
        }
        
        .progress-indicator {
            height: 5px;
            background: #f0f0f0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #0c2461, #4a69bd);
            width: 10%;
            transition: width 0.5s ease;
        }
        
        .back-button {
            display: block;
            margin: 40px auto 20px;
            background: linear-gradient(135deg, #0c2461, #4a69bd);
            color: white;
            border: none;
            padding: 16px 45px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(12, 36, 97, 0.3);
            width: fit-content;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }
        
        .back-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(12, 36, 97, 0.4);
            background: linear-gradient(135deg, #4a69bd, #0c2461);
        }
        
        .button-container {
            display: flex;
            justify-content: center;
            margin: 20px 0 10px;
        }
        
        .submit-container {
            text-align: center;
            margin-top: 10px;
        }
        
        .submit-btn {
            padding: 18px 50px;
            font-size: 1.3rem;
            background: linear-gradient(135deg, #0c2461, #4a69bd);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 8px 20px rgba(12, 36, 97, 0.3);
        }
        
        .submit-btn:hover {
            background: linear-gradient(135deg, #4a69bd, #0c2461);
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(12, 36, 97, 0.4);
        }
        
        .pretest-info {
            background: linear-gradient(120deg, #f0f5ff 0%, #e6eeff 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 6px solid #ff9800;
        }
        
        .pretest-info h3 {
            color: #0c2461;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Taylor Series Pre-Test</h1>
            <p class="subtitle">Assess your foundational knowledge before learning Taylor series</p>
            <p>10 Multiple Choice Questions</p>
            
            <div class="progress-indicator">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <div class="instructions">
            <h3>Instructions:</h3>
            <ul>
                <li>Answer all 10 questions to the best of your ability.</li>
                <li>Select one answer for each question by clicking on it.</li>
                <li>After selecting an answer, you will see immediate feedback.</li>
                <li>You can navigate between questions using "Previous" and "Next" buttons.</li>
                <li>Click "Submit Test" after completing all questions to see your score.</li>
            </ul>
        </div>
        
        <!-- Question 1 -->
        <div class="question-container" id="question1">
            <div class="question-header">
                <div class="question-number">1</div>
                <div class="question-text">What is the derivative of \( f(x) = x^2 \)?</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>\( x \)</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>\( 2x \)</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>\( x^3 \)</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>\( 2 \)</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>Using the power rule: \(\frac{d}{dx}(x^n) = n \cdot x^{n-1}\). For \(x^2\), we get \(2 \cdot x^{2-1} = 2x\).</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is B. Using the power rule of differentiation: \(\frac{d}{dx}(x^2) = 2x\).</p>
            </div>
        </div>
        
        <!-- Question 2 -->
        <div class="question-container" id="question2" style="display: none;">
            <div class="question-header">
                <div class="question-number">2</div>
                <div class="question-text">What is the derivative of \(\sin x\)?</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>\(\cos x\)</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>\(-\sin x\)</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>\(-\cos x\)</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>\(\tan x\)</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>The derivative of \(\sin x\) is \(\cos x\). This is a fundamental trigonometric derivative.</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is A. The derivative of \(\sin x\) is \(\cos x\). Remember: \(\frac{d}{dx}(\sin x) = \cos x\).</p>
            </div>
        </div>
        
        <!-- Question 3 -->
        <div class="question-container" id="question3" style="display: none;">
            <div class="question-header">
                <div class="question-number">3</div>
                <div class="question-text">What is the value of \(\cos 0\)?</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>0</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>1</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>-1</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>Undefined</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>\(\cos 0 = 1\). At \(x = 0\), the cosine function reaches its maximum value of 1.</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is B. \(\cos 0 = 1\). This is a fundamental trigonometric value.</p>
            </div>
        </div>
        
        <!-- Question 4 -->
        <div class="question-container" id="question4" style="display: none;">
            <div class="question-header">
                <div class="question-number">4</div>
                <div class="question-text">What is meant by higher-order derivatives?</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>Derivatives of only constants</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>Repeated differentiation of a function</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>Integration of a function</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>Graph of a function</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>Higher-order derivatives are obtained by repeatedly differentiating a function. For example, the second derivative is the derivative of the first derivative.</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is B. Higher-order derivatives refer to repeated differentiation of a function. The first derivative is \(f'(x)\), the second is \(f''(x)\), and so on.</p>
            </div>
        </div>
        
        <!-- Question 5 -->
        <div class="question-container" id="question5" style="display: none;">
            <div class="question-header">
                <div class="question-number">5</div>
                <div class="question-text">Which of the following is a polynomial?</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>\(\frac{1}{x}\)</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>\(\sqrt{x}\)</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>\(x^2 + 3x + 1\)</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>\(\sin x\)</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>\(x^2 + 3x + 1\) is a polynomial because it's an expression consisting of variables and coefficients, involving only addition, subtraction, multiplication, and non-negative integer exponents.</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is C. A polynomial is an algebraic expression with non-negative integer exponents. \(x^2 + 3x + 1\) fits this definition.</p>
            </div>
        </div>
        
        <!-- Question 6 -->
        <div class="question-container" id="question6" style="display: none;">
            <div class="question-header">
                <div class="question-number">6</div>
                <div class="question-text">What is the derivative of \( e^x \)?</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>\(xe^x\)</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>\(e^x\)</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>\(\ln x\)</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>\(x^x\)</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>The derivative of \(e^x\) is itself: \(e^x\). This unique property makes the exponential function very important in calculus.</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is B. The derivative of \(e^x\) is \(e^x\). The exponential function is the only function whose derivative is equal to the function itself.</p>
            </div>
        </div>
        
        <!-- Question 7 -->
        <div class="question-container" id="question7" style="display: none;">
            <div class="question-header">
                <div class="question-number">7</div>
                <div class="question-text">Expand \((x+1)^2\).</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>\(x^2 + 1\)</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>\(x^2 + 2x + 1\)</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>\(x^2 + x + 1\)</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>\(2x^2 + 1\)</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>Using the formula \((a+b)^2 = a^2 + 2ab + b^2\), we get \((x+1)^2 = x^2 + 2(x)(1) + 1^2 = x^2 + 2x + 1\).</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is B. Using the binomial expansion: \((x+1)^2 = x^2 + 2(x)(1) + 1^2 = x^2 + 2x + 1\).</p>
            </div>
        </div>
        
        <!-- Question 8 -->
        <div class="question-container" id="question8" style="display: none;">
            <div class="question-header">
                <div class="question-number">8</div>
                <div class="question-text">What does approximation of a function mean?</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>Finding exact value always</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>Replacing a function with a simpler expression</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>Differentiating a function</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>Integrating a function</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>Approximation means replacing a complex function with a simpler one that is easier to work with while maintaining reasonable accuracy.</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is B. Function approximation involves replacing a complex function with a simpler expression that closely represents the original function over a certain range.</p>
            </div>
        </div>
        
        <!-- Question 9 -->
        <div class="question-container" id="question9" style="display: none;">
            <div class="question-header">
                <div class="question-number">9</div>
                <div class="question-text">A function is continuous at a point if:</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>It is differentiable there</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>Its limit exists and equals the function value</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>Its derivative is zero</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>It is a polynomial</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>A function \(f(x)\) is continuous at \(x = a\) if: \(\lim_{x \to a} f(x)\) exists and equals \(f(a)\).</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is B. For a function to be continuous at a point, three conditions must be met: 1) The function is defined at the point, 2) The limit exists at that point, and 3) The limit equals the function value.</p>
            </div>
        </div>
        
        <!-- Question 10 -->
        <div class="question-container" id="question10" style="display: none;">
            <div class="question-header">
                <div class="question-number">10</div>
                <div class="question-text">Why are approximations used in mathematics?</div>
            </div>
            
            <div class="options-container">
                <div class="option" data-value="a">
                    <span class="option-letter">A</span>
                    <span>To avoid calculations</span>
                </div>
                <div class="option" data-value="b">
                    <span class="option-letter">B</span>
                    <span>To make problems more complex</span>
                </div>
                <div class="option" data-value="c">
                    <span class="option-letter">C</span>
                    <span>To simplify calculations and get near values</span>
                </div>
                <div class="option" data-value="d">
                    <span class="option-letter">D</span>
                    <span>To find exact answers only</span>
                </div>
            </div>
            
            <div class="feedback correct">
                <h4>Correct!</h4>
                <p>Approximations simplify complex calculations, making problems tractable while providing values close enough to the exact answer for practical purposes.</p>
            </div>
            
            <div class="feedback incorrect">
                <h4>Incorrect</h4>
                <p>The correct answer is C. Approximations are used to simplify calculations and obtain values that are sufficiently close to exact values for practical purposes, especially when exact solutions are difficult or impossible to find.</p>
            </div>
        </div>
        <!-- Controls -->
        <div class="controls">
            <button class="btn btn-secondary" id="prevBtn">
                <i class="fas fa-arrow-left"></i> Previous
            </button>
            <button class="btn btn-primary" id="nextBtn">
                Next <i class="fas fa-arrow-right"></i>
            </button>
        </div>
        
        <!-- Submit Button -->
        <div class="submit-container" style="display: none;">
            <button class="submit-btn" id="submitBtn">
                <i class="fas fa-paper-plane"></i> Submit Test
            </button>
        </div>
        
        <!-- Back to Home Button -->
        <div class="button-container">
            <a href="index.html" class="back-button">
                <i class="fas fa-home"></i> Back to Home
            </a>
        </div>
        
        <!-- Results Container -->
        <div class="results-container" id="resultsContainer">
            <h2 class="results-header">Post-Test Results</h2>
            <div class="score-circle">
                <div class="score-value" id="scoreValue">0</div>
                <div class="score-text">out of 10</div>
            </div>
            <div class="performance">
                <h3>Performance Summary</h3>
                <p id="performanceText">Based on your score, you have a basic understanding of Taylor series.</p>
                <p id="correctAnswers">Correct Answers: 0/10</p>
                <p id="percentageScore">Percentage: 0%</p>
            </div>
            <p style="margin-top: 20px;">Review the questions above to see which ones you got right and which need more study.</p>
            <button class="btn retake-btn" id="retakeBtn">
                <i class="fas fa-redo"></i> Retake Test
            </button>
        </div>
    </div>

    <script>
        // Initialize MathJax
        MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
            }
        };
        
        // Test data - correct answers for each question (based on your provided questions)
        const correctAnswers = {
            'question1': 'b',
            'question2': 'a',
            'question3': 'b',
            'question4': 'b',
            'question5': 'c',
            'question6': 'b',
            'question7': 'b',
            'question8': 'b',
            'question9': 'b',
            'question10': 'c'
        };
        
        // User answers
        const userAnswers = {};
        
        // Current question index
        let currentQuestion = 1;
        
        // Function to show a specific question
        function showQuestion(questionNum) {
            // Hide all questions
            for (let i = 1; i <= 10; i++) {
                document.getElementById(`question${i}`).style.display = 'none';
            }
            
            // Show the requested question
            document.getElementById(`question${questionNum}`).style.display = 'block';
            
            // Update button states
            document.getElementById('prevBtn').disabled = (questionNum === 1);
            // Keep Next enabled; when on last question, Next will reveal the submit button
            document.getElementById('nextBtn').disabled = false;
            document.getElementById('nextBtn').textContent = (questionNum === 10) ? 'Submit Test' : 'Next';
            
            // Update progress bar
            const progressPercentage = (questionNum / 10) * 100;
            document.getElementById('progressFill').style.width = `${progressPercentage}%`;
            
            // If user has already answered this question, show their selection
            if (userAnswers[`question${questionNum}`]) {
                const selectedOption = document.querySelector(`#question${questionNum} .option[data-value="${userAnswers[`question${questionNum}`]}"]`);
                if (selectedOption) {
                    // Remove any existing selections
                    const options = document.querySelectorAll(`#question${questionNum} .option`);
                    options.forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Select the user's answer
                    selectedOption.classList.add('selected');
                }
            }
            
            // Hide feedback for this question initially
            const feedbacks = document.querySelectorAll(`#question${questionNum} .feedback`);
            feedbacks.forEach(feedback => {
                feedback.style.display = 'none';
            });
            
            // Scroll to question
            document.getElementById(`question${questionNum}`).scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        // Function to check the current question's answer
        function checkCurrentAnswer() {
            const questionId = `question${currentQuestion}`;
            const selectedOption = document.querySelector(`#${questionId} .option.selected`);
            
            if (!selectedOption) {
                alert('Please select an answer before checking.');
                return;
            }
            
            const userAnswer = selectedOption.getAttribute('data-value');
            const correctAnswer = correctAnswers[questionId];
            
            // Store user's answer
            userAnswers[questionId] = userAnswer;
            
            // Show feedback
            const feedbackCorrect = document.querySelector(`#${questionId} .feedback.correct`);
            const feedbackIncorrect = document.querySelector(`#${questionId} .feedback.incorrect`);
            
            // Remove all styling first
            const options = document.querySelectorAll(`#${questionId} .option`);
            options.forEach(opt => {
                opt.classList.remove('correct', 'incorrect');
            });
            
            // Show correct answer
            const correctOption = document.querySelector(`#${questionId} .option[data-value="${correctAnswer}"]`);
            correctOption.classList.add('correct');
            
            if (userAnswer === correctAnswer) {
                // User got it right
                feedbackCorrect.style.display = 'block';
                feedbackIncorrect.style.display = 'none';
                selectedOption.classList.add('correct');
            } else {
                // User got it wrong
                feedbackCorrect.style.display = 'none';
                feedbackIncorrect.style.display = 'block';
                selectedOption.classList.add('incorrect');
            }
            
            // Update MathJax rendering
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }
        
        // Function to calculate and display results (show inline instead of navigating)
        function showResults() {
            let score = 0;

            // Calculate score
            for (let i = 1; i <= 10; i++) {
                const questionId = `question${i}`;
                if (userAnswers[questionId] === correctAnswers[questionId]) {
                    score++;
                }
            }

            const percentage = Math.round((score / 10) * 100);

            // Performance feedback
            let performanceText = '';
            if (score >= 9) {
                performanceText = 'Excellent! You have mastered Taylor series expansions.';
            } else if (score >= 7) {
                performanceText = 'Very good! You have a solid understanding of Taylor series.';
            } else if (score >= 5) {
                performanceText = 'Good effort! Review the concepts to improve your understanding.';
            } else {
                performanceText = 'Keep practicing! Use the simulation to better understand Taylor series concepts.';
            }

            // Update results UI elements
            const resultsContainer = document.getElementById('resultsContainer');
            const scoreValueEl = document.getElementById('scoreValue');
            const performanceTextEl = document.getElementById('performanceText');
            const correctAnswersEl = document.getElementById('correctAnswers');
            const percentageScoreEl = document.getElementById('percentageScore');

            if (scoreValueEl) scoreValueEl.textContent = `${score}`;
            if (performanceTextEl) performanceTextEl.textContent = performanceText;
            if (correctAnswersEl) correctAnswersEl.textContent = `Correct Answers: ${score}/10`;
            if (percentageScoreEl) percentageScoreEl.textContent = `Percentage: ${percentage}%`;

            // Save results to localStorage under a clear key for post-test
            const resultsObj = {
                score: score,
                total: 10,
                percentage: percentage,
                performanceText: performanceText,
                userAnswers: userAnswers,
                correctAnswers: correctAnswers
            };

            try {
                localStorage.setItem('posttestResults', JSON.stringify(resultsObj));
            } catch (e) {
                console.warn('Unable to save results to localStorage:', e);
            }

            // Hide all question containers and controls
            for (let i = 1; i <= 10; i++) {
                const q = document.getElementById(`question${i}`);
                if (q) q.style.display = 'none';
            }
            const controls = document.querySelector('.controls');
            if (controls) controls.style.display = 'none';
            const submitContainer = document.querySelector('.submit-container');
            if (submitContainer) submitContainer.style.display = 'none';

            // Show results container
            if (resultsContainer) {
                resultsContainer.style.display = 'block';
                resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        // Event listeners
        document.getElementById('prevBtn').addEventListener('click', function() {
            if (currentQuestion > 1) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        });
        
        document.getElementById('nextBtn').addEventListener('click', function() {
            if (currentQuestion < 10) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else if (currentQuestion === 10) {
                // On last question: submit the test immediately
                showResults();
            }
        });
        
        // Removed Check Answer button: checking now occurs immediately upon option selection
        
        document.getElementById('submitBtn').addEventListener('click', function() {
            // Check if all questions are answered
            let allAnswered = true;
            for (let i = 1; i <= 10; i++) {
                if (!userAnswers[`question${i}`]) {
                    allAnswered = false;
                    break;
                }
            }
            
            if (!allAnswered) {
                if (confirm('You have not answered all questions. Submit anyway?')) {
                    showResults();
                }
            } else {
                showResults();
            }
        });
        
        document.getElementById('retakeBtn').addEventListener('click', function() {
            // Reset test
            currentQuestion = 1;
            
            // Clear user answers
            for (let i = 1; i <= 10; i++) {
                delete userAnswers[`question${i}`];
            }
            
            // Hide results
            document.getElementById('resultsContainer').style.display = 'none';
            // Hide submit container again
            const submitContainer = document.querySelector('.submit-container');
            if (submitContainer) submitContainer.style.display = 'none';
            
            // Reset all questions
            for (let i = 1; i <= 10; i++) {
                const options = document.querySelectorAll(`#question${i} .option`);
                options.forEach(opt => {
                    opt.classList.remove('selected', 'correct', 'incorrect');
                });
                
                const feedbacks = document.querySelectorAll(`#question${i} .feedback`);
                feedbacks.forEach(feedback => {
                    feedback.style.display = 'none';
                });
            }
            
            // Show first question
            showQuestion(1);
            
            // Scroll to top
            window.scrollTo(0, 0);
        });
        
        // Add event listeners to options
        for (let i = 1; i <= 10; i++) {
            const options = document.querySelectorAll(`#question${i} .option`);
            options.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options in this question
                    const parent = this.closest('.question-container');
                    const allOptions = parent.querySelectorAll('.option');
                    allOptions.forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Store user's answer
                    const questionId = parent.id;
                    userAnswers[questionId] = this.getAttribute('data-value');
                    
                    // Hide any previous feedback
                    const feedbacks = parent.querySelectorAll('.feedback');
                    feedbacks.forEach(feedback => {
                        feedback.style.display = 'none';
                    });
                    
                    // Immediately check the answer when an option is selected
                    checkCurrentAnswer();
                });
            });
        }
        
        // Initialize by showing first question
        showQuestion(1);
        
        // Update MathJax after page loads
        window.addEventListener('load', function() {
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
            
            // Animate progress bar
            setTimeout(() => {
                const progressFill = document.getElementById('progressFill');
                if (progressFill) {
                    progressFill.style.width = '10%';
                }
            }, 500);
        });
    </script>
</body>
</html>